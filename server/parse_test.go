package main

import (
	"testing"
	// "github.com/mattermost/mattermost-server/model"
	// "github.com/mattermost/mattermost-server/plugin/plugintest"
	// "github.com/stretchr/testify/assert"
	// "github.com/stretchr/testify/mock"
)

func TestFindWhen(t *testing.T) {
	// th := Setup()
	// defer th.TearDown()

	// th.Server.InitReminders()
	// defer th.Server.StopReminders()
	// user, _ := th.App.GetUserByUsername(model.REMIND_BOTNAME)
	// //T := utils.GetUserTranslations(user.Locale)

	// request := &model.ReminderRequest{}
	// request.UserId = user.Id

	// request.Payload = "foo in one"
	// rErr := th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo in one doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "in one")

	// request.Payload = "foo every tuesday at 10am"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo every tuesday at 10am doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "every tuesday at 10am")

	// request.Payload = "foo today at noon"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo today at noon doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "today at noon")

	// request.Payload = "foo tomorrow at noon"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo tomorrow at noon doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "tomorrow at noon")

	// request.Payload = "foo monday at 11:11am"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo monday at 11:11am doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "monday at 11:11am")

	// request.Payload = "foo monday"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo monday doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "monday")

	// request.Payload = "foo tuesday at 11:11am"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo tuesday at 11:11am doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "tuesday at 11:11am")

	// request.Payload = "foo wednesday at 11:11am"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo wednesday at 11:11am doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "wednesday at 11:11am")

	// request.Payload = "foo thursday at 11:11am"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo thursday at 11:11am doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "thursday at 11:11am")

	// request.Payload = "foo friday at 11:11am"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo friday at 11:11am doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "friday at 11:11am")

	// request.Payload = "foo saturday at 11:11am"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo saturday at 11:11am doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "saturday at 11:11am")

	// request.Payload = "foo sunday at 11:11am"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo sunday at 11:11am doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "sunday at 11:11am")

	// request.Payload = "foo at 2:04 pm"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo at 2:04 pm doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "at 2:04 pm")

	// request.Payload = "foo at noon every monday"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("foo at noon every monday doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "at noon every monday")

	// request.Payload = "tomorrow"
	// rErr = th.App.findWhen(request)
	// if rErr != nil {
	// 	mlog.Error(rErr.Error())
	// 	t.Fatal("tomorrow doesn't parse")
	// }
	// assert.Equal(t, strings.Trim(request.Reminder.When, " "), "tomorrow")

}
